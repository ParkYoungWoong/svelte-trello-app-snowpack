import"./CreateCard.css.proxy.js";import{SvelteComponent as M,action_destroyer as g,append as f,attr as u,binding_callbacks as j,detach as b,element as p,empty as x,init as I,insert as k,listen as h,noop as v,run_all as S,safe_not_equal as F,set_input_value as E,space as C}from"../../web_modules/svelte/internal.js";import{tick as A,createEventDispatcher as q}from"../../web_modules/svelte.js";import{cards as B}from"../store/list.js";import{autoFocusout as D}from"../actions/autoFocusout.js";function J(s){let i,o,n;return{c(){i=p("div"),i.textContent="+ Add another card",u(i,"class","add-another-card svelte-1w8hp2w")},m(t,e){k(t,i,e),o||(n=h(i,"click",s[4]),o=!0)},p:v,d(t){t&&b(i),o=!1,n()}}}function N(s){let i,o,n,t,e,l,r,w,_,a;return{c(){i=p("div"),o=p("textarea"),n=C(),t=p("div"),e=p("div"),e.textContent="Add Card",l=C(),r=p("div"),r.textContent="Cancel",u(o,"placeholder","Enter a title for this card..."),u(o,"class","svelte-1w8hp2w"),u(e,"class","btn success svelte-1w8hp2w"),u(r,"class","btn svelte-1w8hp2w"),u(t,"class","actions svelte-1w8hp2w"),u(i,"class","edit-mode svelte-1w8hp2w")},m(c,m){k(c,i,m),f(i,o),E(o,s[1]),s[8](o),f(i,n),f(i,t),f(t,e),f(t,l),f(t,r),_||(a=[h(o,"input",s[7]),h(o,"keydown",s[9]),h(e,"click",s[3]),h(r,"click",s[5]),g(w=D.call(null,i,s[5]))],_=!0)},p(c,m){m&2&&E(o,c[1])},d(c){c&&b(i),s[8](null),_=!1,S(a)}}}function z(s){let i;function o(e,l){return e[0]?N:J}let n=o(s,-1),t=n(s);return{c(){t.c(),i=x()},m(e,l){t.m(e,l),k(e,i,l)},p(e,[l]){n===(n=o(e,l))&&t?t.p(e,l):(t.d(1),t=n(e),t&&(t.c(),t.m(i.parentNode,i)))},i:v,o:v,d(e){t.d(e),e&&b(i)}}}function G(s,i,o){let{listId:n}=i,t=!1,e="",l;const r=q();function w(){e.trim()&&B.add({listId:n,title:e}),a()}async function _(){o(0,t=!0),o(1,e=""),r("editMode",!0),await A(),l&&l.focus()}function a(){o(0,t=!1),r("editMode",!1)}function c(){e=this.value,o(1,e)}function m(d){j[d?"unshift":"push"](()=>{l=d,o(2,l)})}const y=d=>{d.key==="Enter"&&w(),d.key==="Esc"&&a(),d.key==="Escape"&&a()};return s.$$set=d=>{"listId"in d&&o(6,n=d.listId)},[t,e,l,w,_,a,n,c,m,y]}class H extends M{constructor(s){super();I(this,s,G,z,F,{listId:6})}}export default H;

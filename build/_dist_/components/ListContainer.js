import"./ListContainer.css.proxy.js";import{SvelteComponent as j,append as p,attr as b,binding_callbacks as S,check_outros as x,component_subscribe as C,create_component as g,destroy_component as h,detach as L,element as $,empty as I,group_outros as M,init as q,insert as v,mount_component as k,outro_and_destroy_block as E,safe_not_equal as F,space as J,transition_in as m,transition_out as d,update_keyed_each as H}from"../../web_modules/svelte/internal.js";import T from"../../web_modules/sortablejs.js";import{onMount as z}from"../../web_modules/svelte.js";import{lists as D}from"../store/list.js";import A from"./List.js";import B from"./CreateList.js";function w(a,r,l){const t=a.slice();return t[4]=r[l],t}function y(a,r){let l,t,c;return t=new A({props:{list:r[4],sortableLists:r[1]}}),{key:a,first:null,c(){l=I(),g(t.$$.fragment),this.first=l},m(n,o){v(n,l,o),k(t,n,o),c=!0},p(n,o){const i={};o&4&&(i.list=n[4]),o&2&&(i.sortableLists=n[1]),t.$set(i)},i(n){if(c)return;m(t.$$.fragment,n),c=!0},o(n){d(t.$$.fragment,n),c=!1},d(n){n&&L(l),h(t,n)}}}function G(a){let r,l,t=[],c=new Map,n,o,i,f=a[2];const _=e=>e[4].id;for(let e=0;e<f.length;e+=1){let s=w(a,f,e),u=_(s);c.set(u,t[e]=y(u,s))}return o=new B({}),{c(){r=$("div"),l=$("div");for(let e=0;e<t.length;e+=1)t[e].c();n=J(),g(o.$$.fragment),b(l,"class","lists svelte-tsq9xt"),b(r,"class","list-container svelte-tsq9xt")},m(e,s){v(e,r,s),p(r,l);for(let u=0;u<t.length;u+=1)t[u].m(l,null);a[3](l),p(r,n),k(o,r,null),i=!0},p(e,[s]){if(s&6){const u=e[2];M(),t=H(t,s,_,1,e,u,c,l,E,y,null,w),x()}},i(e){if(i)return;for(let s=0;s<f.length;s+=1)m(t[s]);m(o.$$.fragment,e),i=!0},o(e){for(let s=0;s<t.length;s+=1)d(t[s]);d(o.$$.fragment,e),i=!1},d(e){e&&L(r);for(let s=0;s<t.length;s+=1)t[s].d();a[3](null),h(o)}}}function K(a,r,l){let t;C(a,D,i=>l(2,t=i));let c,n;z(()=>{l(1,n=new T(c,{group:"My Lists",handle:".list",delay:50,animation:0,forceFallback:!0,onEnd(i){D.reorder({oldIndex:i.oldIndex,newIndex:i.newIndex})}}))});function o(i){S[i?"unshift":"push"](()=>{c=i,l(0,c)})}t:;return[c,n,t,o]}class N extends j{constructor(a){super();q(this,a,K,G,F,{})}}export default N;

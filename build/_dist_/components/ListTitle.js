import"./ListTitle.css.proxy.js";import{SvelteComponent as L,action_destroyer as C,append as c,attr as _,binding_callbacks as j,detach as h,element as p,empty as S,init as T,insert as y,listen as v,noop as x,run_all as D,safe_not_equal as F,set_data as I,set_input_value as M,space as E,text as q}from"../../web_modules/svelte/internal.js";import{onDestroy as B,tick as J,createEventDispatcher as N}from"../../web_modules/svelte.js";import{lists as w}from"../store/list.js";import{autoFocusout as z}from"../actions/autoFocusout.js";function A(s){let i,l=s[0].title+"",n,e,t,o,r;return{c(){i=p("h2"),n=q(l),e=E(),t=p("div"),t.textContent="Edit",_(t,"class","btn small edit-btn-for-list svelte-1glx9f4"),_(i,"class","title svelte-1glx9f4")},m(d,a){y(d,i,a),c(i,n),c(i,e),c(i,t),o||(r=v(t,"click",s[6]),o=!0)},p(d,a){a&1&&l!==(l=d[0].title+"")&&I(n,l)},d(d){d&&h(i),o=!1,r()}}}function G(s){let i,l,n,e,t,o,r,d,a,g,f,k;return{c(){i=p("div"),l=p("textarea"),n=E(),e=p("div"),t=p("div"),t.textContent="Save",o=E(),r=p("div"),r.textContent="Cancel",d=E(),a=p("div"),a.textContent="Delete List",_(l,"placeholder","Enter a title for this list..."),_(l,"class","svelte-1glx9f4"),_(t,"class","btn success svelte-1glx9f4"),_(r,"class","btn svelte-1glx9f4"),_(a,"class","btn danger svelte-1glx9f4"),_(e,"class","actions svelte-1glx9f4"),_(i,"class","edit-mode svelte-1glx9f4")},m(m,b){y(m,i,b),c(i,l),M(l,s[2]),s[9](l),c(i,n),c(i,e),c(e,t),c(e,o),c(e,r),c(e,d),c(e,a),f||(k=[v(l,"input",s[8]),v(l,"keydown",s[10]),v(t,"click",s[4]),v(r,"click",s[7]),v(a,"click",s[5]),C(g=z.call(null,i,s[7]))],f=!0)},p(m,b){b&4&&M(l,m[2])},d(m){m&&h(i),s[9](null),f=!1,D(k)}}}function H(s){let i;function l(t,o){return t[1]?G:A}let n=l(s,-1),e=n(s);return{c(){e.c(),i=S()},m(t,o){e.m(t,o),y(t,i,o)},p(t,[o]){n===(n=l(t,o))&&e?e.p(t,o):(e.d(1),e=n(t),e&&(e.c(),e.m(i.parentNode,i)))},i:x,o:x,d(t){e.d(t),t&&h(i)}}}function K(s,i,l){let{list:n}=i,e=!1,t=n.title,o;const r=N();function d(){t.trim()&&w.edit({listId:n.id,title:t}),f()}function a(){w.remove({listId:n.id}),f()}async function g(){l(1,e=!0),l(2,t=n.title),r("editMode",!0),await J(),o&&o.focus()}function f(){l(1,e=!1),r("editMode",!1)}B(()=>{f()});function k(){t=this.value,l(2,t)}function m(u){j[u?"unshift":"push"](()=>{o=u,l(3,o)})}const b=u=>{u.key==="Enter"&&d(),u.key==="Esc"&&f(),u.key==="Escape"&&f()};return s.$$set=u=>{"list"in u&&l(0,n=u.list)},[n,e,t,o,d,a,g,f,k,m,b]}class O extends L{constructor(s){super();T(this,s,K,H,F,{list:0})}}export default O;
